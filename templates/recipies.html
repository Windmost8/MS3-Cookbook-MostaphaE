{% extends "base.html" %}
{% block content %}

<main>
    <!--materlize typograpy class-->
    <blockquote class="flow-text">Welcome, friends and family alike! Welcome... to an online platform to not only FIND and SHARE recipies, or INSPECT various
        cooking tools, but to learn as we eat, or eat as we learn. Welcome one, welcome all! Enjoy.
    </blockquote>

    <blockquote class="flow-text smaller">
        (<b>P.S. </b>
        <i>Take some time to search for any names of recipes or ingredients included in them to find some awesome inspiration for your next meal!
            Or just browse away at our featured list!
        </i>)
    </blockquote>

    <div class="row card-panel grey lighten-5">
        <form action="{{ url_for('search') }}" method="post" class="col s12">
            <div class="row valign-wrapper center-align">
                <div class="input-field col s12 m8">
                    <i class="fas fa-search prefix text-darken-4"></i>
                    <input type="text" name="query" id="query" minlength="3" class="validate" required>
                    <label for="query">Search recipies</label>
                </div>
                <div class="col s12 m4">
                    <a href="{{ url_for('get_recipies') }}" class="red btn text-shadow">Reset</a>
                    <button type="submit" class="green darken-1 btn text-shadow">
                        <i class="fas fa-search left"></i> Search
                    </button>
                </div>
            </div>
        </form>
    </div>

    <h3 class="text-darken-4 center-align"><i>Featured Recipies</i></h3>

    <br>

    <!--the special character ">" shows as a problem, but &gt; does not work instead-->
    {% if recipies|length > 0 %}
    <ul class="collapsible">
        {% for recipie in recipies %}
        <li>
            <div class="collapsible-header white-text brown text-shadow">
                <div class="col s3">
                    <i class="fas fa-caret-down"></i>
                    {% if session.user|lower == recipie.created_by|lower %}
                    <a href="{{ url_for('delete_recipie', recipie_id=recipie._id) }}" title="delete" class="delete btn-small red" 
                    onclick="return confirm('Are you sure you want to delete this item')">Delete</a>
                    <a href="{{ url_for('edit_recipie', recipie_id=recipie._id) }}" class="btn-small green darken-1">Edit</a>
                    {% endif %}
                </div>
                <div class="col s9">
                    <strong>{{ recipie.recipie_name }}</strong>
                </div>
            </div>
            <div class="collapsible-body">
                <p><strong>Recipie Name:</strong><i> {{ recipie.recipie_name }}</i></p>
                <p><strong>Category:</strong><i> {{ recipie.category_name }}</i></p>
                <p><strong>Preparation:</strong><i> {{ recipie.preparation }}</i></p>
                <p><strong>Ingredients:</strong><i> {{ recipie.ingredients }}</i></p>
                <p><strong>Special Tools:</strong><i> {{ recipie.special_tools }}</i></p>
                <p><strong>By:</strong><i> {{ recipie.created_by }}</i></p>
            </div>
        </li>
        {% endfor %}
    </ul>
    {% else %}
        <h3 class="red-text text-darken-4 center-align">No Results Found</h3>
    {% endif %}

</main>    
{% endblock %}